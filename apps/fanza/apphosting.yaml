runConfig:
  runtime: nodejs20
  concurrency: 80
  minInstances: 0
  maxInstances: 4
  cpu: 1
  memoryMiB: 2048
  vpcAccess:
    connector: projects/adult-v/locations/asia-east1/connectors/adult-v-connector
    egress: PRIVATE_RANGES_ONLY

env:
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME
  - variable: DATABASE_URL
    secret: database-url
  - variable: SITE_MODE
    value: fanza
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_SITE_URL
    value: https://www.f.adult-v.com
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_GA_ID
    value: G-PLRLLT8HYJ
    availability:
      - BUILD
      - RUNTIME
  # Firebase Configuration
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    secret: firebase-api-key
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: adult-v.firebaseapp.com
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: adult-v
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: adult-v.firebasestorage.app
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "933323943498"
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: 1:933323943498:web:97f8b7e6a3cc8b32a82c63
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    value: G-6LDLKB6QSL
    availability:
      - BUILD
      - RUNTIME
  # Sentry Configuration
  - variable: SENTRY_DSN
    secret: sentry-dsn-fanza
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_SENTRY_DSN
    secret: sentry-dsn-fanza
    availability:
      - BUILD
      - RUNTIME
  - variable: SENTRY_ORG
    value: avviewer-lab
    availability:
      - BUILD
  - variable: SENTRY_PROJECT
    value: fanza
    availability:
      - BUILD
  # Upstash Redis Cache
  - variable: UPSTASH_REDIS_REST_URL
    secret: upstash-redis-url
  - variable: UPSTASH_REDIS_REST_TOKEN
    secret: upstash-redis-token
  # Gemini API Key for LLM features
  - variable: GEMINI_API_KEY
    secret: gemini-api-key
